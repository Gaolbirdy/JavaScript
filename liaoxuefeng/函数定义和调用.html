<html>
    <head>
        <script>
            'use strict'
            
            // function abs(x)
            // {
            //     // console.log(x);
            //     if (typeof x != 'number')
            //         // throw 'Not a number';
            //     if (x  > 0)
            //         return x;
            //     else
            //         return -x;
            // }

            var abs2 = function (x)
            {
                if (x  > 0)
                    return x;
                else
                    return -x;
            };

            console.log(abs(10));
            console.log(abs2(-9));

            console.log(abs(10, 'blablabla'));
            console.log(abs2(-9, 'haha', 'hehe', null));
            console.log(abs());

            function foo(x)
            {
                console.log('x = ' + x);
                for(var i = 0; i < arguments.length; i++)
                {
                    console.log('arg ' + i + ' = ' + arguments[i]);
                }
            }

            foo(10);
            foo(10, 20, 30);

            function abs()
            {
                if (arguments.length === 0)
                {
                    return 0;
                }
                var x = arguments[0];
                return x >=0 ? x : -x;
            }

            // foo(a[, b], c)
            // 接收2~3个参数，b是可选参数，如果只传2个参数，b默认为null：
            function foo2(a, b, c)
            {
                if (arguments === 2)
                {
                    // 实际拿到的参数是a和b，c为undefined
                    c = b; // 把b赋给c
                    b = null; // b变为默认值
                }
            }

            function foo3(a, b)
            {
                var i, rest = [];
                if (arguments.length > 2)
                {
                    for (i = 2; i < arguments.length; i++)
                    {
                        rest.push(arguments[i]);
                    }
                }
                console.log('a = ' + a);
                console.log('b = ' + b);
                console.log(rest);
            }
            foo3(1, 2);
            foo3(1, 2, 3, 4);

            function foo4(a, b, ...rest)
            {
                console.log('a = ' + a);
                console.log('b = ' + b);
                console.log(rest);
            }
            foo4(5, 6, 7, 8, 9);
            foo4(5, 6);
            foo4(5);

            function sum(...rest)
            {
                var sum = 0;
                for (var i in rest)
                {
                    sum += rest[i];
                }
                return sum;
            }

            // 测试:
            var i, args = [];
            for (i=1; i<=100; i++) {
                args.push(i);
            }
            if (sum() !== 0) {
                console.log('测试失败: sum() = ' + sum());
            } else if (sum(1) !== 1) {
                console.log('测试失败: sum(1) = ' + sum(1));
            } else if (sum(2, 3) !== 5) {
                console.log('测试失败: sum(2, 3) = ' + sum(2, 3));
            } else if (sum.apply(null, args) !== 5050) {
                console.log('测试失败: sum(1, 2, 3, ..., 100) = ' + sum.apply(null, args));
            } else {
                console.log('测试通过!');
            }

            function foo5()
            {
                return{
                    name: 'foo'
                };
            }
            console.log(foo5);
            console.log(foo5());

            function area_of_circle(r, pi)
            {
                console.log(pi);
                pi = pi || 3.14;
                return pi * r * r;
            }
            // 测试:
            if (area_of_circle(2) === 12.56 && area_of_circle(2, 3.1416) === 12.5664) {
                console.log('测试通过');
            } else {
                console.log('测试失败');
            }
            console.log(area_of_circle());

            function max(a, b)
            {
                if (a > b)
                {
                    return {
                        a
                    };
                }
                else
                {
                    return {
                        b
                    };
                }
            }
            console.log(max(15, 20));

        </script>
    </head>
    <body>
        My JavaScript
    </body>
</html>