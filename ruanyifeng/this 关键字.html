<!-- <script>
// var person = {
//     name: '张三',
//     describe: function () {
//         return '姓名: ' + this.name;
//     }
// };

// console.log(person.describe());

// var A = {
//     name: '张三',
//     describe: function () {
//         return '姓名: ' + this.name;
//     }
// };

// var B = {
//     name: '李四'
// };

// B.describe = A.describe;
// console.log(B.describe());

// function f() {
//     return '姓名: ' + this.name;
// }

// var A = {
//     name: '张三',
//     describe: f
// };

// var B = {
//     name: '李四',
//     describe: f
// };

// console.log(A.describe());
// console.log(B.describe());

var A = {
    name: '张三',
    describe: function () {
        return '姓名: ' + this.name;
    }
};

var name = '李四';
console.log(this.name);

var f = A.describe;
console.log(this.f);

console.log(f());
console.log(this.f());


</script> -->

<!-- <input type="text" name="age" size=3 onChange="validate(this, 18, 99);">
<script>
function validate(obj, lowval, hival) {
    console.log(obj);
    
    if ((obj.value < lowval) || (obj.value > hival))
        console.log('Invalid value');
}
</script> -->

<!-- <script>
// var obj = { foo: 5 };
// var obj = { foo: function () {} };

// var f = function () { console.log(1);};
// var obj = { f: f };

// f();
// obj.f();

// var x = 1;

// // var f = function () {
// //     console.log(x);
// // };

// var f = function () {
//     console.log(this.x);
// };

// f();

// var o = {
//     x: 2,
//     foo: f
// };

// o.foo();

var f = function () {
    console.log(this.x);
};

var x = 1;
var obj = {
    f: f,
    x: 2,
};

f();
obj.f();

</script> -->

<!-- <script>
// console.log(this === window);

// function f() {
//     console.log(this === window);
// }

// f();

// var Obj = function (p) {
//     this.p = p;
// };

// var o = new Obj('hello');
// console.log(o.p);

var obj = {
    foo: function () {
        console.log(this);
    }
};

obj.foo();

// var other = { p: 123 };
// other.foo = obj.foo;
// other.foo();

// obj.foo = obj.foo;
// obj.foo();

// (obj.foo = obj.foo)();
// (false || obj.foo)();
// (1, obj.foo)();
// var a = obj.foo;
// a();

// (obj.foo = function () {
//     console.log(this);
// })();
// (function () {
//     console.log(this);
// })();

// (false || function () {
//     console.log(this);
// })();

// (1, function () {
//     console.log(this);
// })();

// var a = {
//     p: 'hello',
//     b: {
//         m: function () {
//             console.log(this.p);
//         },
//         p: 123
//     }
// };
// a.b.m();

// var b = {
//     m: function () {
//         console.log(this.p);
//     }
// };

// // b.m();

// var a = {
//     p: 'hello',
//     b: b
// };

// // a.b.m();
// (a.b).m();

var a = {
    b: {
        m: function () {
            console.log(this.p);
        },
        p: 'hello'
    }
};
(a.b).m();

var hello = a.b.m;
hello();

var hello = a.b;
hello.m();

</script> -->

<!-- <script>
// var o = {
//     f1: function () {
//         console.log(this);
//         var f2 = function () {
//             console.log(this);
//         }();
//     }
// };

// o.f1();

// var temp = function () {
//     console.log(this);
// };

// var o = {
//     f1: function () {
//         console.log(this);
//         var f2 = temp(); 
//     }
// };

// o.f1();

// var o = {
//     f1: function () {
//         console.log(this);
//         var that = this;
//         var f2 = function () {
//             console.log(that);
//         }();
//     }
// }
// o.f1();

// var foo = {};
// foo.f2 = o.f1;
// foo.f2();

// var counter = {
//     count: 0
// };
// counter.inc = function () {
//     'use strict';
//     this.count++;
// };

// counter.inc();
// console.log(counter);

// var f = counter.inc;
// f();

// var o = {
//     v: 'hello',
//     p: [ 'a1', 'a2' ],
//     f: function f() {
//         // console.log(this.p);
//         var that = this;

//         this.p.forEach(function (item) {
//             // console.log(this);
            
//             // console.log(this.v + ' ' + item);
//             console.log(that.v + ' ' + item);
//         })
//     }
// };

// o.f();

// var o = {
//     v: 'hello',
//     p: [ 'a1', 'a2' ],
//     f: function f() {
//         this.p.forEach(function (item) {
//             // console.log(this);
//             console.log(this.v + ' ' + item);
//         }, this);
//     }
// };

// o.f();

var o = new Object();
o.f = function () {
    console.log(this === o, this);
};

o.f();

var foo = { b: 2 };
foo.f = o.f;
foo.f();

</script> -->

<script>
// var obj = { a: 1 };

// var f = function () {
//     return this;
// };

// console.log(f() === window);

// console.log(f.call(obj) === obj);
// console.log(f.call([obj]));
// console.log(f.call(this));
// console.log(f.call(this) === window);

// var n = 123;
// var obj = { n: 456 };

// function a() {
//     console.log(this.n);
// }

// a();

// a.call();
// a.call(null);
// a.call(undefined);
// a.call(window);
// a.call(obj);

// var f = function () {
//     return this;
// };

// console.log(f.call(5));

// function add(a, b) {
//     return a + b;
// }

// console.log(add.call(this, 1, 2));

// var obj = {};
// console.log(obj.hasOwnProperty('toString'));

// obj.hasOwnProperty = function () {
//     return true;
// };

// console.log(obj.hasOwnProperty('toString'));

// console.log(Object.prototype.hasOwnProperty.call(obj, 'toString'));

// function f(x, y) {
//     // console.log(this);
    
//     console.log(x + y);
// }
// f.call(null, 1, 1);
// f.apply(null, [1, 1]);

// var a = [10, 2, 4, 15, 9];
// console.log(Math.max.apply(null, a));

// console.log(Array.apply(null, ['a', ,'b']));

// var a = ['a', , 'b'];

// function print(i) {
//     console.log(i);
// }

// a.forEach(print);

// Array.apply(null, a).forEach(print);

// console.log(Array.prototype.slice.apply({0: 1, length: 1}));
// console.log(Array.prototype.slice.apply({0: 1}));
// console.log(Array.prototype.slice.apply({0: 1, length: 2}));
// console.log(Array.prototype.slice.apply({length: 1}));

// var o = new Object();

// o.f = function () {
//     console.log(this === o);
// }

// var f = function () {
//     o.f.apply(o);
//     // o.f.call(o);
// };

// f();

// var d = new Date();
// console.log(d.getTime());

// // var print = d.getTime;
// var print = d.getTime.bind(d);
// console.log(print());

// var D = function () {
//     this.x = 1;
//     this.getX = function () {return this.x};
// };

// var foo = new D();
// console.log(foo.getX())
// var g = foo.getX;
// console.log((g()));

// var counter = {
//     count: 0,
//     inc: function () {
//         this.count++;
//     }
// };

// // var func = counter.inc.bind(counter);
// // func();
// // console.log(counter.count);

// var obj = {
//     count: 100
// };
// var func = counter.inc.bind(obj);
// func();

// console.log(obj.count);
// console.log(counter.count);

// var add = function (x, y) {
//     return x * this.m + y * this.n;
// };

// // console.log(add(5, 5));
// // var m = 2, n = 2;
// // console.log(add(5, 5));

// var obj = {
//     m: 2,
//     n: 2
// };

// var newAdd = add.bind(obj, 5);
// console.log(newAdd(5));

// function add(x, y) {
//     return x + y;
// }

// var plus5 = add.bind(null, 5);
// console.log(plus5(10));

// var counter = {
//     count: 0,
//     inc: function () {
//         'use strict';
//         this.count++;
//     }
// };

// function callIt(callback) {
//     callback();
// }

// callIt(counter.inc.bind(counter));
// console.log(counter.count);

var obj = {
    name: '张三',
    times: [1, 2, 3],
    print: function () {
        this.times.forEach(function (n) {
            // console.log(this);

            console.log(this.name);
        })
    }
};

obj.print();

obj.print = function () {
    this.times.forEach(function (n) {
        console.log(this === window);
    });
};
obj.print();

</script>